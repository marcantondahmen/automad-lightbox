/*!
 *	Automad/Lightbox
 *	Copyright (c) 2020 by Marc Anton Dahmen
 *	https://marcdahmen.de
 *	Licensed under the MIT license.
 */
!function(u){u.fn.AutomadLightbox=function(){var e=u(this);if(0<e.length){var n,o,d,g=u('<div class="automad-lightbox"></div>').appendTo("body").hide(),h=(u('<div class="overlay"></div>').appendTo(g).fadeTo(0,.9),u('<div class="caption"></div>').appendTo(g)),t=u('<div class="caption-text"></div>').appendTo(h),i=u('<a class="close" href="#"></a>').appendTo(g),c=!1;if(displayCaption=function(i){t.html(i),h.fadeIn(300)},i.click(function(){return g.fadeOut(300,function(){bigImage.remove()}),c=!1}),
1<e.length){var a=u('<a class="prev" href="#"></a>').appendTo(g),p=u('<a class="next" href="#"></a>').appendTo(g);a.click(function(){return 0<d?--d:d=e.length-1,r(d),!1}),p.click(function(){return e.length>d+1?d+=1:d=0,r(d),!1})}function f(){var i=bigImage.width(),t=bigImage.height(),a=g.height()/g.width(),e=t/i;(n>g.width()||o>g.height())&&(e<a?t=(i=g.width())*e:i=(t=g.height())/e),bigTop=g.height()-t!=0?(g.height()-t)/2+"px":0,bigLeft=g.width()-i!=0?(g.width()-i)/2+"px":0,bigImage.css({
width:i+"px",height:t+"px",top:bigTop,left:bigLeft}),bigImage.fadeIn(300)}e.each(function(i){var t=u(this),a=t.attr("href"),e=t.data("caption");t.click(function(){return d=i,bigImage=u('<img alt="">').appendTo(g).hide().one("load",function(){n=bigImage.width(),o=bigImage.height(),f(),displayCaption(e),c=!0}).attr("src",a),g.fadeIn(300),!1})});var r=function(i){var t=e.eq(i).attr("href"),a=e.eq(i).data("caption");bigImage.fadeOut(200),h.fadeOut(200),setTimeout(function(){bigImage.remove(),
bigImage=u('<img alt="">').appendTo(g).hide().one("load",function(){n=bigImage.width(),o=bigImage.height(),f(),displayCaption(a)}).attr("src",t)},200)};u(window).resize(function(){c&&f()})}},u(document).ready(function(){u(".automad-lightbox-item").AutomadLightbox()})}(jQuery);